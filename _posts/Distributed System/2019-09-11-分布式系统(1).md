---
layout: post
title: 分布式系统(1)
categories: 分布式系统
description: 分布式系统 Week1
keywords: 分布式系统
---

# 第一章 分布式系统的特征

## 1.1 简介

- 分布式系统定义：一个系统，其硬件或软件组件**分布**在**联网**的计算机上，组件之间通过消息传递进行通信或动作协调
- 显著特征：
  - 并发
  - 没有全局时钟
  - 故障独立性(难以了解故障来源)

- 分布式困难在于面向事务
- 分布式系统动力来源于：资源共享（打印机、文件系统、数据库）
- 分布式系统的出错率会更多，所以必须要有备份

## 1.2 例子

### 1.2.1 Web搜索

 Google是计算历史上最大和最复杂的分布式系统之一

- 一个底层的物理设施

  位于全世界的多个数据中心联网组成

- 一个分布式文件系统 GFS

  支持超大文件，并根据Google的应用分别进行了深度优化

- 一个相关的结构化分布式存储系统 BigTable

  超大数据集的快速访问

- 一个锁服务

  提供诸如分布式加锁和协定等分布式系统功能

- 一个编程模型 MapReduce

  支持超大并行分布式计算管理

### 1.2.2 大型多人在线游戏

- 客户-服务器模型

- 分布式体系结构

  游戏世界被分散在多个服务器里，完全冗余，地理上分散部署

- P2P模式，不讲，理论上讲减少服务器负担，不过一般没用过

### 1.2.3 金融交易

分布式事件

可靠地发布订阅模型

## 1.3 分布式系统趋势

### 1.3.1 泛在联网和现代互联网

### 1.3.2 移动和无处不在的计算

- 移动计算：用户在移动或访问某个非常规环境时执行计算任务的性能（连接变化，短时中断）
- 无处不在的计算： 指对用户的物理环境中存在的多个小型、便宜的计算设备的利用。
- 服务计算：将设备与合适的本地设备相关联

### 1.3.3 分布式多媒体系统

### 1.3.4 云计算

云：一组基于互联网的应用，足以满足大多数用户需求的存储和计算服务的集合

云提供的服务：存储、计算、软件服务

集群计算机：互连的计算机集合，它们紧密协作提供单一的、集成的高性能计算能力

服务器： 是指在连网的计算机上的一个进程，这个程序接收来自其他计算机上进程的请求，执行一个服务并适当地做出响应。

云计算和虚拟化连接紧密

## 1.4 关注资源共享

- 计算机支持协同工作（CSCW）：一个封闭的小组进行资源共享

- 服务：表示计算机系统中管理相关资源并提供功能给用户和应用的一个单独的部分

   服务将资源访问限制为一组定义良好的操作，分布式系统的资源是物理地封装在计算机内，其他计算机只能通过通信才能访问

## 1.5 挑战

### 1.5.1 异构性

- 中间件： 是指一个软件层，它提供了一个编程抽象，同时屏蔽了底层网络、硬件、操作系统和编程语言的异构性。

   大多数中间件基于互联网协议实现，这些协议屏蔽了底层网络的差异，但是中间件要解决操作系统和硬件的不同。除了异构性，中间件还给服务器和分布式应用的程序员提供了一致的计算模型。

  - 公共对象请求代理（Common Object Request Broker, CORBA）

  - JAVA远程方法调用（Remote Method Invocation， RMI）

- 移动代码：指从能从一台计算机发送到另一台计算机，并在目的计算机上运行的代码
  - Java applet, javascript
-  虚拟机方法提供了一种代码可以在任何计算机上运行的方法：某种语言的编译器生成一台**虚拟机的代码**而不是某种硬件代码，虚拟机通过**解释的方式**来执行它。

### 1.5.2 开放性

分布式系统的开放性主要取决于**新的资源共享服务能被增加**和**供多种客户程序使用**的程度

- **发布系统的关键接口**是开放系统的特征
- 基于一致的通信机制和发布接口访问共享资源

### 1.5.3 安全性

- 安全性包括：机密性、完整性、可用性
- 两个未解决的问题：
  -  拒绝服务攻击DDOS
  -  移动代码的安全性

### 1.5.4 可伸缩性

如果**资源数量和用户数量激增**，系统仍能保持其有效性，那么该系统就称为可伸缩的

- 面临的挑战：

  - 控制物理资源的开销：资源需求增加时，可以以线性的扩展系统以满足需求

  - 控制性能损失：时间性能上尽量控制

  - 防止软件资源用尽：例如IP地址

  - 避免性能瓶颈：尽量避免集中式，或者引入缓存或复制

### 1.5.5 故障处理

 故障不可避免，分布式系统故障一般来说是部分的

故障处理技术：故障检测，掩盖故障（在检测到故障能被隐藏起来或降低它的严重程度），容错，故障恢复（故障恢复后如何继续工作），冗余

### 1.5.6 并发性

 代表共享资源的任何一个对象必须负责确保在并发环境中操作正确，不仅适用于服务器，也适用于应用中的对象

### 1.5.7 透明性

透明性被定义位对用户和应用程序员屏蔽分布式系统的组件的分离性，使系统被认为是一个整体，而不是独立的集合。

- 访问透明性：用户以相同操作访问本地资源和远程资源
- 位置透明性：不需要知道资源的物理或网络位置就能够访问
- 并发透明性：几个进程能并发地使用共享资源而不互相干扰
- 复制透明性：使用资源的多个实例提升可靠性和性能，用户无需知道副本的相关信息
- 故障透明性：屏蔽错误
- 移动透明性：资源和用户在系统内移动而不会影响用户或程序的操作
- 性能透明性：负载变化时，系统可以重新配置以提高性能
- 伸缩透明性：系统和应用可以扩展而不改变现有的结构或应用算法。

### 1.5.8 服务质量

可靠性、安全性、性能、适应性（满足系统配置和资源可用性）

## 1.6 万维网

-  动态页面

  用户不仅仅需要浏览信息，还需要交互服务，通过GET/POST方法调用服务器上的程序，结果返回给客户端，就是指的动态页面

  - CGI（公共网关接口）

    可以分析用户给的参数，产生所要求的内容的程序

- 除浏览器之外的程序也可以是Web的客户， HTML不适合于程序之间的互操作， XML（可扩展标记语言）是一种标准的、结构化的、特定于应用的格式表示数据方式。它是自描述的。